<div class="modal-backdrop" (click)="onClose()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <h3>{{ course ? 'Edit Course' : 'Add New Course' }}</h3>

    <form [formGroup]="courseForm" (ngSubmit)="onSave()">

      <input
        type="text"
        formControlName="title"
        placeholder="Course Title"
      />
      <div *ngIf="title?.invalid && title?.touched" class="error-message">
        <span *ngIf="title?.errors?.['required']">Course title is required.</span>
        <span *ngIf="title?.errors?.['minlength']">Title must be at least 3 characters.</span>
      </div>

      <select formControlName="category" [disabled]="true">
        <option value="German Course">German Course</option>
      </select>

      <textarea
        formControlName="description"
        placeholder="Description"
      ></textarea>
      <div *ngIf="description?.invalid && description?.touched" class="error-message">
        <span *ngIf="description?.errors?.['required']">Description is required.</span>
        <span *ngIf="description?.errors?.['minlength']">Description must be at least 10 characters.</span>
      </div>

      <select formControlName="duration">
        <option value="">Select Duration</option>
        <option value="4 weeks">4 weeks</option>
        <option value="6 weeks">6 weeks</option>
        <option value="8 weeks">8 weeks</option>
        <option value="12 weeks">12 weeks</option>
      </select>
      <div *ngIf="duration?.invalid && duration?.touched" class="error-message">
        Course duration is required.
      </div>

      <div class="form-group">
        <label for="startDate">Start Date:</label>
        <input
          type="date"
          id="startDate"
          formControlName="startDate"
        />
      </div>
      <div *ngIf="startDate?.invalid && startDate?.touched" class="error-message">
        Start date is required.
      </div>

      <select formControlName="instructor">
        <option value="">Select Instructor</option>
        <option value="Frau Amira El feky">Frau Amira El feky</option>
        <option value="Frau Asmaa Mohamed">Frau Asmaa Mohamed</option>
        <option value="Herr Ahmed Essam">Herr Ahmed Essam</option>
        <option value="Frau Noor Abdelrahman">Frau Noor Abdelrahman</option>
        <option value="Herr Youssef Hassan">Herr Youssef Hassan</option>
        <option value="Frau Sara Ali">Frau Sara Ali</option>
      </select>
      <div *ngIf="instructor?.invalid && instructor?.touched" class="error-message">
        Instructor is required.
      </div>

      <input
        type="number"
        formControlName="price"
        placeholder="Price"
        min="1"
      />
      <div *ngIf="price?.invalid && price?.touched" class="error-message">
        <span *ngIf="price?.errors?.['required']">Price is required.</span>
        <span *ngIf="price?.errors?.['min']">Price must be greater than 0.</span>
      </div>

      <input type="file" (change)="onFileChange($event)" accept="image/*" />

      <input type="file" (change)="onVideoChange($event)" accept="video/*" />

      <div class="level-selection">
        <h3>Select Course Level:</h3>
        <div class="buttons">
          <button
            type="button"
            [ngClass]="{'selected': level?.value === 'beginner'}"
            (click)="selectLevel('beginner')">Beginner
          </button>
          <button
            type="button"
            [ngClass]="{'selected': level?.value === 'intermediate'}"
            (click)="selectLevel('intermediate')">Intermediate
          </button>
          <button
            type="button"
            [ngClass]="{'selected': level?.value === 'advanced'}"
            (click)="selectLevel('advanced')">Advanced
          </button>
        </div>
      </div>

      <div class="modal-footer">
        <button
          type="submit"
          [disabled]="courseForm.invalid">
          {{ course ? 'Update Course' : 'Add Course' }}
        </button>
        <button type="button" (click)="onClose()">Cancel</button>
      </div>
    </form>
  </div>
</div>
